import Layout from "../components/Layout";
import Seo from "../components/Seo";
import Container from "../components/Container";
import Header from "../components/Header";
import Script from "next/script";
import pageSource from "../content/page/services.json";
import Heading from "../components/Heading";
import { renderContent } from "lib/renderContent";
import Footer from "../components/Footer";
import footerSource from "../content/setting/footer.json";
import Animate from "../components/Animate";
import Multiline from "../components/Multiline";
import Button from "../components/Button";
import Link from "next/link";
import { PlusIcon } from "@heroicons/react/outline";
import ServiceBox from "../components/ServiceBox";

// interface Props {
//   pageData: typeof pageSource;
//   footerData: typeof footerSource;
// }

function Page({ pageData, footerData }) {
  const page = pageData;
  const background = [
    "bg-bsm-faince",
    "bg-bsm-ocean",
    "bg-bsm-cornblue",
    "bg-bsm-orientblue",
    "bg-bsm-nightblue",
  ];

  return (
    <Layout>
      <Script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></Script>

      <Seo meta={page.meta} />

      <Header header={page.header} />

      <section className="pt-16 pb-16 lg:pb-20" id="kontakt">
        <Container layout="sm">
          <div className="text-center">
            <Heading size="h1">{page.start.title}</Heading>
          </div>
          <div className="mt-16">
            <Animate>
              <div className="grid gap-8 lg:grid-cols-2">
                <div className="relative">
                  <div className="absolute top-0 bottom-0 right-5">
                    {/* service complicated svg icon stuff */}
                    <svg
                      className="h-[100%]"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 2683.89 4805.07"
                    >
                      <path
                        d="M946.11,4805.07c-27.34,0-54.81-.79-82.39-2.36-123.12-7.04-243.2-29.38-356.89-66.39-147.01-47.86-272.47-116.98-362.81-199.88C49.8,4449.99,0,4353.64,0,4257.8c0-27.21,.18-49.68,.58-70.72,.47-24.98,1.24-47.48,2.34-68.79,1.25-24.07,2.9-46.23,5.05-67.74,2.28-22.86,5.17-45.1,8.58-66.12,3.65-22.46,8.06-44.53,13.11-65.6,5.31-22.15,11.54-44.09,18.52-65.21,7.27-22.01,15.62-43.94,24.83-65.2,9.53-22,20.3-44.05,32.02-65.54,12.07-22.13,25.56-44.42,40.1-66.26,14.9-22.39,31.41-45.05,49.05-67.36,18.02-22.78,37.83-45.95,58.87-68.85,21.44-23.33,44.84-47.13,69.58-70.75,25.14-24.01,52.45-48.59,81.17-73.06,46.78-39.86,96.91-79.3,153.25-120.57,14.71-10.78,30.06-21.83,45.6-32.83,53.28-37.72,109.31-75.31,171.31-114.92,55.41-35.4,112.86-70.68,175.65-107.86,55.85-33.07,115-67.01,180.82-103.75,65.75-36.7,131.66-72.9,181.74-100.33,59.29-32.48,119.8-61.14,184.99-87.63,37.15-15.09,75.49-30.98,115.85-48-326.46-311.1-560.86-535.18-744.67-715.4-211.99-207.84-346.41-347.7-435.85-453.47-89.54-105.89-142.44-187.65-171.52-265.1-28.77-76.6-34.83-150.03-41.84-235.05-8.47-102.6,1.69-200.81,30.19-291.92,34.27-109.55,95.21-208.61,181.11-294.44C642.54,193.4,1005.93,60.58,1510.5,10.56c206.45-20.46,378.02-11.16,509.96,27.67,112.89,33.22,198.47,88.44,254.37,164.14,35.84,48.54,59.71,105.84,70.92,170.3,8.93,51.36,9.9,107.35,2.86,166.41-11.95,100.36-43.41,176.14-43.73,176.89-1.6,3.82-6,5.62-9.82,4.01-3.82-1.6-5.62-6-4.02-9.82,.31-.74,31.06-74.91,42.72-173.29,10.69-90.22,7.04-219.96-71.06-325.66-53.92-72.98-136.87-126.35-246.55-158.61-130.07-38.26-299.71-47.38-504.18-27.11C1010.95,75.15,650.62,206.52,441.02,415.95c-194.23,194.06-219.75,419.54-206.96,574.52,14.36,174,22.27,269.84,209.87,491.7,176.22,208.39,513.38,532.98,1184.14,1172.18,19.5-8.26,39.5-16.79,60.07-25.63,64.55-27.75,128.58-55.94,190.29-83.79,64.43-29.08,127.81-58.46,188.39-87.33,64.68-30.83,127.24-61.61,185.92-91.49,50.69-25.81,97.52-50.4,143.17-75.19,46.21-25.09,88.53-48.93,129.38-72.87,43.44-25.46,82.65-49.53,119.88-73.59,9.16-5.92,18.26-11.88,27.06-17.74,3.45-2.29,8.11-1.36,10.4,2.09s1.36,8.1-2.09,10.4c-8.86,5.89-18.02,11.89-27.22,17.84-37.42,24.18-76.81,48.37-120.44,73.94-41,24.03-83.46,47.94-129.81,73.11-45.77,24.85-92.71,49.51-143.52,75.38-58.8,29.94-121.48,60.78-186.28,91.67-60.67,28.92-124.15,58.34-188.67,87.47-61.8,27.89-125.9,56.12-190.54,83.9-18.5,7.95-36.53,15.65-54.16,23.13,24.73,23.56,49.96,47.61,75.6,72.03,2.47,2.23,54.09,49.1,120.35,129.42,62.33,75.55,150.88,197.14,218.74,347.34,76.38,169.05,111.52,339.1,104.45,505.45-4.2,98.81-23.54,197.37-57.47,292.92-37.3,105.02-93.15,208.98-166,309.01-87.58,120.25-194,220.3-316.31,297.39-111.76,70.44-236.62,121.71-371.09,152.41-97.59,22.27-198.87,33.48-302.05,33.48Zm678.74-2133.07c-42.64,18.02-82.99,34.75-122.05,50.62-64.66,26.27-124.66,54.69-183.43,86.89-50.05,27.42-115.92,63.6-181.63,100.27-65.71,36.67-124.75,70.55-180.49,103.56-62.64,37.09-119.95,72.28-175.21,107.59-61.79,39.48-117.63,76.94-170.71,114.52-15.48,10.96-30.75,21.96-45.4,32.69-56.04,41.05-105.89,80.27-152.39,119.89-28.51,24.29-55.6,48.68-80.54,72.49-24.5,23.4-47.68,46.97-68.89,70.05-20.8,22.63-40.36,45.51-58.15,68.01-17.39,21.99-33.65,44.31-48.33,66.37-14.29,21.47-27.56,43.39-39.42,65.13-11.51,21.09-22.08,42.73-31.43,64.32-9.02,20.84-17.22,42.36-24.35,63.94-6.85,20.73-12.96,42.26-18.17,64.01-4.96,20.71-9.3,42.41-12.89,64.51-3.37,20.71-6.21,42.65-8.46,65.2-2.12,21.27-3.76,43.19-4.99,67.03-1.1,21.14-1.86,43.48-2.32,68.29-.4,20.94-.58,43.32-.58,70.44,0,91.52,48.12,184.05,139.16,267.58,88.78,81.46,212.34,149.46,357.32,196.66,448.22,145.93,1058.64,76.03,1411.96-409.09,311.55-427.75,235.96-829.89,117.69-1091.92-67.12-148.7-154.79-269.16-216.52-344.03-66.95-81.2-118.68-127.79-119.2-128.25l-.17-.16c-27.39-26.1-54.2-51.63-80.39-76.59Z"
                        fill="white"
                      />
                    </svg>
                  </div>
                  <div className="py-10 pr-16">
                    <div className="flex flex-col w-full space-y-2">
                      {page.start.links.map((link, index) => (
                        <Link href={link.url} key={link.url}>
                          <a
                            className={`block px-6 py-5 text-white text-lg group ${
                              background[index % 5]
                            }`}
                          >
                            <div className="flex items-center space-x-4">
                              <PlusIcon className="w-6 h-6 transition transform group-hover:rotate-90" />
                              <span>{link.text}</span>
                            </div>
                          </a>
                        </Link>
                      ))}
                    </div>
                  </div>
                </div>
                <div>
                  <Multiline text={page.start.text} />
                  <div className="mt-8">
                    <Button href={page.start.cta.href}>
                      {page.start.cta.text}
                    </Button>
                  </div>
                </div>
              </div>
            </Animate>
          </div>
        </Container>
      </section>

      <section className="relative py-16 bg-bsm-matt">
        <div className="absolute inset-0 overflow-hidden">
          <svg
            className="absolute min-w-full min-h-full pt-20 pb-20"
            data-name="Ebene 1"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 1791.95 4805.06"
          >
            <path
              d="M1791.95,4464.16c-360.12,347.12-883.8,387.03-1280.47,257.89-144.98-47.2-268.54-115.21-357.32-196.66-91.04-83.53-139.16-176.06-139.16-267.58,0-27.12,.18-49.5,.58-70.44,.47-24.81,1.23-47.15,2.32-68.29,1.23-23.83,2.87-45.76,4.99-67.03,2.25-22.55,5.1-44.49,8.46-65.2,3.59-22.09,7.93-43.8,12.89-64.51,5.21-21.74,11.33-43.28,18.17-64.01,7.13-21.58,15.32-43.1,24.35-63.94,9.35-21.59,19.92-43.23,31.43-64.32,11.86-21.74,25.12-43.66,39.42-65.13,14.68-22.05,30.94-44.38,48.33-66.37,17.79-22.5,37.36-45.38,58.15-68.01,21.22-23.09,44.39-46.66,68.89-70.05,24.93-23.81,52.03-48.2,80.54-72.49,46.5-39.62,96.35-78.83,152.39-119.89,14.65-10.73,29.93-21.73,45.4-32.69,53.08-37.58,108.92-75.04,170.71-114.52,55.26-35.31,112.58-70.5,175.21-107.59,55.74-33.01,114.78-66.88,180.49-103.56,65.71-36.67,131.58-72.85,181.63-100.27,58.77-32.2,118.78-60.62,183.43-86.89,39.06-15.87,79.41-32.6,122.05-50.62,26.2,24.96,53,50.5,80.39,76.59l.17,.16c.43,.38,36.13,32.54,86.54,89.89v-22.58c-43.93-48.9-74.55-76.7-76.44-78.4-25.64-24.42-50.87-48.47-75.6-72.03,17.63-7.48,35.66-15.18,54.16-23.13,32.84-14.12,65.55-28.35,97.88-42.59v-16.4c-34.27,15.12-68.95,30.23-103.81,45.21-20.57,8.84-40.57,17.38-60.07,25.63C957.32,2015.14,620.15,1690.55,443.93,1482.16c-187.6-221.86-195.51-317.7-209.87-491.7-12.79-154.98,12.73-380.46,206.96-574.52C650.62,206.52,1010.95,75.15,1511.98,25.48c102.23-10.13,195.74-12.92,279.96-8.39V2.08c-84.81-4.51-178.82-1.7-281.44,8.47C1005.93,60.57,642.54,193.4,430.42,405.33c-85.91,85.83-146.84,184.9-181.11,294.44-28.5,91.11-38.66,189.32-30.19,291.92,7.02,85.02,13.08,158.44,41.84,235.05,29.09,77.46,81.99,159.22,171.52,265.1,89.44,105.77,223.86,245.62,435.85,453.47,183.82,180.22,418.21,404.29,744.67,715.4-40.37,17.03-78.7,32.91-115.85,48-65.2,26.49-125.71,55.15-184.99,87.63-50.07,27.43-115.98,63.63-181.74,100.33-65.82,36.74-124.97,70.67-180.82,103.75-62.79,37.18-120.24,72.46-175.65,107.86-61.99,39.61-118.03,77.2-171.31,114.92-15.54,11-30.89,22.05-45.6,32.83-56.34,41.27-106.47,80.71-153.25,120.57-28.72,24.47-56.03,49.06-81.17,73.06-24.73,23.62-48.14,47.42-69.58,70.75-21.05,22.9-40.85,46.07-58.87,68.85-17.64,22.31-34.15,44.97-49.05,67.36-14.54,21.84-28.03,44.13-40.1,66.26-11.72,21.49-22.5,43.54-32.02,65.54-9.2,21.25-17.55,43.19-24.83,65.2-6.98,21.12-13.21,43.07-18.52,65.21-5.05,21.07-9.46,43.14-13.11,65.6-3.41,21.01-6.3,43.26-8.58,66.12-2.15,21.51-3.8,43.67-5.05,67.74-1.11,21.31-1.87,43.81-2.34,68.79-.4,21.04-.58,43.51-.58,70.72,0,95.84,49.8,192.19,144.02,278.64,90.35,82.9,215.81,152.01,362.81,199.88,113.69,37.01,233.76,59.35,356.89,66.39,27.58,1.58,55.05,2.36,82.39,2.36,103.18,0,204.46-11.21,302.05-33.48,134.47-30.69,259.33-81.97,371.09-152.41,61.74-38.91,119.43-83.69,172.7-133.95v-21.07Z"
              fill="#fff"
            />
          </svg>
        </div>
        <Container layout="sm">
          <div className="text-center">
            <Heading size="h2">{page.services.title}</Heading>
          </div>
          <div className="mt-20 space-y-10">
            {page.services.services.map((service) => (
              <div key={service.title}>
                <Animate>
                  <ServiceBox service={service} />
                </Animate>
              </div>
            ))}
          </div>
        </Container>
      </section>

      <section className="py-32">
        <Container layout="sm">
          <div className="text-center">
            <Heading size="h2">{page.customers.title}</Heading>
          </div>
          <div className="mt-10">
            <Animate>
              <div className="px-20 py-8 bg-bsm-ocean/10">
                <Multiline text={page.customers.text} />
                <div className="mt-4">
                  <span className="font-bold">{page.customers.customer}</span>
                  {page.customers.company && (
                    <span className="">, {page.customers.company}</span>
                  )}
                </div>
              </div>
            </Animate>
          </div>
          <div className="flex justify-center mt-10">
            <Button href={page.customers.cta.href}>
              {page.customers.cta.text}
            </Button>
          </div>
        </Container>
      </section>

      <Footer data={footerData} />
    </Layout>
  );
}

export async function getStaticProps() {
  const pageData = await renderContent(pageSource);
  const footerData = await renderContent(footerSource);

  return {
    props: {
      pageData,
      footerData,
    },
  };
}

export default Page;
